<ion-header>
  <ion-grid class="ion-no-padding">
    <ion-row>

      <ion-col size="11">
        <div>
          @if (traces.weightTrace?.x?.length > 0) {
            <ion-chip (click)="toggleChartLines('weight')" [outline]="!traces.weightTrace?.visible"
            class="weight">{{'BREW_FLOW_WEIGHT' | translate}}</ion-chip>
          }
          @if (traces.weightTrace?.x?.length > 0) {
            <ion-chip (click)="toggleChartLines('calc_flow')"
              [outline]="!traces.flowPerSecondTrace?.visible"
            class="flowcalculated">{{'BREW_FLOW_WEIGHT_PER_SECOND' | translate}}</ion-chip>
          }
          @if (traces.weightTrace?.x?.length > 0) {
            <ion-chip (click)="toggleChartLines('realtime_flow')"
              [outline]="!traces.realtimeFlowTrace?.visible" class="flowreal">{{'BREW_FLOW_WEIGHT_REALTIME' |
            translate}}</ion-chip>
          }
          @if (traces.pressureTrace?.x?.length > 0) {
            <ion-chip (click)="toggleChartLines('pressure')"
              [outline]="!traces.pressureTrace?.visible" class="pressure">{{'BREW_PRESSURE_FLOW' |
            translate}}</ion-chip>
          }
          @if (traces.temperatureTrace?.x?.length > 0) {
            <ion-chip (click)="toggleChartLines('temperature')"
              [outline]="!traces.temperatureTrace?.visible" class="temperature">{{'BREW_TEMPERATURE_REALTIME' |
            translate}}</ion-chip>
          }
          @if (traces.weightTraceSecond?.x?.length > 0) {
            <ion-chip (click)="toggleChartLines('weightSecond')" [outline]="!traces.weightTraceSecond?.visible"
            class="weightsecond">{{'BREW_FLOW_WEIGHT_SECOND' | translate}}</ion-chip>
          }
          @if (traces.realtimeFlowTraceSecond?.x?.length > 0) {
            <ion-chip (click)="toggleChartLines('realtimeFlowSecond')"
              [outline]="!traces.realtimeFlowTraceSecond?.visible" class="flowrealsecond">{{'BREW_FLOW_WEIGHT_REALTIME_SECOND' |
            translate}}</ion-chip>
          }
        </div>
      </ion-col>
      <ion-col class="ion-text-right" size="1">
        <ion-button (click)="dismiss()" fill="clear" style="margin-top: -1px;margin-left:-15px;">
          <ion-icon name="close-outline" slot="icon-only"></ion-icon>
        </ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-header>
<ion-content>
  @if (flowProfileLoading === true) {
    <ion-spinner name="dots"></ion-spinner>
  }
  <div #canvaContainer style='height:100%'>
    <div  #profileDiv></div>
  </div>
</ion-content>
