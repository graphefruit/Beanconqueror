<ion-header translucent>
</ion-header>
<ion-content>
  <ion-item>
    <ion-toggle label-placement='start' [(ngModel)]="filter.favourite">
      <div class="ion-label">
        <p>{{"ONLY_FAVOURITES" | translate}}</p>
      </div>
    </ion-toggle>
  </ion-item>

  <ion-item>
    <ion-select label-placement="stacked" label='{{"BEAN_DATA_ROASTING_TYPE" | translate}}' #bean_roasting_type="ngModel" [(ngModel)]="filter.bean_roasting_type" cancelText="{{'CANCEL'| translate }}" name="bean_roasting_type"
                okText="{{'CHOOSE'| translate }}"
                placeholder="{{'BEAN.PLACE_HOLDER.CHOOSE_DATA_ROASTING_TYPE' | translate}}"
                style="padding-left:0px!important;width: 100%; min-width: 100%;"
                multiple="true">
      @for (key of beanRoastingTypeEnum | keys; track key) {
        <ion-select-option value="{{key}}">{{"BEAN_ROASTING_TYPE_" + key | translate}}</ion-select-option>
      }
    </ion-select>
  </ion-item>
  <ion-item>
    <ion-select label-placement="stacked" label='{{"BEAN_DATA_ROASTER" | translate}}' #bean_roaster="ngModel" [(ngModel)]="filter.bean_roaster" cancelText="{{'CANCEL'| translate }}" name="bean_roaster"
                okText="{{'CHOOSE'| translate }}"
                placeholder="{{'BEAN.PLACE_HOLDER.CHOOSE_DATA_ROASTER' | translate}}"
                style="padding-left:0px!important;width: 100%; min-width: 100%;"
                multiple="true">
      @for (key of roasteries; track key) {
        <ion-select-option value="{{key}}">{{key}}</ion-select-option>
      }
    </ion-select>
  </ion-item>
  <div class='ion-label' style='margin-left: 16px;margin-top: 5px;'>{{"BEAN_DATA_ROASTING_DATE" | translate}}</div>
  <ion-item>
    <ion-grid class="ion-no-padding" style="margin-left:0px;margin-top:-5px;">
      <ion-row>
        <ion-col size="5">
          <ion-input readonly  choose-date-overlay [(data)]="filter.roastingDateStart"  [transform-date] displayFormat="{{settings?.date_format}}" placeholder="{{settings?.date_format}}"></ion-input>
        </ion-col>
        <ion-col size="2" style="margin: auto 0;text-align:center">
          /
        </ion-col>
        <ion-col size="5">
          <ion-input readonly  choose-date-overlay [(data)]="filter.roastingDateEnd"  [transform-date] displayFormat="{{settings?.date_format}}" placeholder="{{settings?.date_format}}"></ion-input>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-item>
  <ion-item lines='none'>
    <ion-label style="min-height:30px;">{{"BEAN_DATA_ROAST_NAME" | translate}}</ion-label>
  </ion-item>
  <ion-item style='margin-top:-10px;'>
    <ion-range min="0" dualKnobs="true" snaps="true" max="5" snaps="true" step="0.5" [(ngModel)]="filter.roast_range">
      <ion-icon size="small" slot="start" name="beanconqueror-bean-rating-empty"></ion-icon>
      <ion-icon slot="end" name="beanconqueror-bean-rating-full"></ion-icon>
    </ion-range>
  </ion-item>

  <ion-item lines='none'>
    <ion-label  style="min-height:30px;">{{"BREW_DATA_RATING" | translate }}&nbsp;<ion-badge
      style="vertical-align: top;">{{filter.rating.lower | toFixed: 2}}&nbsp;-&nbsp;{{filter.rating.upper| toFixed: 2}} </ion-badge>
    </ion-label>
  </ion-item>
  <ion-item style='margin-top:-10px;'>
    <ion-range min="0" dualKnobs="true" snaps="true" [pinFormatter]='pinFormatter' pin='true'  [max]="maxBeanRating" [step]="settings?.bean_rating_steps" [(ngModel)]="filter.rating">
      <ion-icon size="small" slot="start" name="beanconqueror-brew-rating-empty"></ion-icon>
      <ion-icon slot="end" name="beanconqueror-brew-rating-full"></ion-icon>
    </ion-range>
  </ion-item>

  <ion-list class="ion-no-padding ion-padding-top ion-margin-horizontal">
    <ion-button (click)="useFilter()" color="accent" expand="block" tappable
                type="submit">{{"USE_FILTER" | translate}}</ion-button>
    <ion-button (click)="resetFilter()" color="dark" expand="block" fill="clear"
                tappable>{{"RESET_FILTER" | translate}}</ion-button>

  </ion-list>
</ion-content>
