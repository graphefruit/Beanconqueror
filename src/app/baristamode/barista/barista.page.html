<ion-header #ionHeader>
  <ion-toolbar with-add-button>
    <ion-buttons slot="start">
      <ion-menu-button show="back"></ion-menu-button>
    </ion-buttons>
    <ion-buttons slot="end">

    </ion-buttons>
    <ion-title>
      {{"NAV_BARISTAMODE_SECTION" | translate }}
    </ion-title>
    <ion-buttons slot="end">

      @if (isWebSocketConnected() === true ) {
        <ion-chip outline='true' class='machine-connected'>

          <ion-icon name="beanconqueror-sanremo-you-logo" size='large'></ion-icon>
          <ion-icon style='margin-left: 0px;' color="dark" name="beanconqueror-wifi"></ion-icon>

        </ion-chip>
      } @else {
        <ion-chip outline='true' class='machine-disconnected'>

          <ion-icon name="beanconqueror-sanremo-you-logo" size='large'></ion-icon>
          <ion-icon style='margin-left: 0px;' color="dark" name="beanconqueror-no-wifi"></ion-icon>


        </ion-chip>
      }

    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content #ionContent >
  <ion-grid class="ion-no-padding">
    <ion-row>
      <ion-col size="3">
        <ion-chip>
          <ion-icon name="timer-outline"></ion-icon>
          <ion-label style="font-size:12px" #lastShotBrewTime>-</ion-label>
        </ion-chip>
      </ion-col>
      <ion-col size="3">
        <ion-chip>
          <ion-icon name="beanconqueror-scale-outline"></ion-icon>
          <ion-label style="font-size:12px" #lastShotWeight>-</ion-label>
        </ion-chip>
      </ion-col>
      <ion-col size="3">
        <ion-chip>
          <ion-icon name="water-outline"></ion-icon>
          <ion-label style="font-size:12px" #lastShotFlow>-</ion-label>
        </ion-chip>
      </ion-col>
      <ion-col size="3">
        <ion-chip>
          <ion-icon name="construct-outline"></ion-icon>
          <ion-label class="no-overflow-ellipsis" style="font-size:8px;" #memoryInformation>-</ion-label>
        </ion-chip>
      </ion-col>
    </ion-row>
  </ion-grid>

  @if (!isWebSocketConnected() ) {
    <ion-card color="danger">
      <ion-card-header>
        <ion-card-title>{{ 'PREPARATION_DEVICE.TYPE_SANREMO_YOU.RECONNECT_NEEDED' | translate}}</ion-card-title>
        <ion-card-subtitle>{{ 'PREPARATION_DEVICE.TYPE_SANREMO_YOU.CONNECTION_LOST_PLEASE_RECONNECT' | translate }}</ion-card-subtitle>
      </ion-card-header>

      <ion-card-content>
        <ion-button expand="full" color="success" (click)="checkIfSanremoIsStillConnectedElseShowUpAReconnectButton()">{{"PREPARATION_DEVICE.TYPE_SANREMO_YOU.RECONNECT" | translate}}</ion-button></ion-card-content>
    </ion-card>
    <ion-card>

    </ion-card>

  }


  <ion-card [hidden]="!isWebSocketConnected()">
    <brew-brewing #brewBrewing [baristamode]="true" (lastShotInformation)="lastShotInformation($event)"
                  [(data)]="data"></brew-brewing>
  </ion-card>
</ion-content>
